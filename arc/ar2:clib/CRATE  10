TITLE	CRATE	C LIBRARY DESECRATOR FOR VERSION 10
A==1
GO==JRST

.GLOBAL	INIT,PAGENO,NPAGES,VERNAM
INIT:	.VALUE	[ASCIZ/: INITIALIZE IF NOT FOR VERSION 10 
/]
	.CALL	[SETZ
		SIXBIT/OPEN/
		1000,,1		; CHANNEL 1
		[SIXBIT/DSK/]
		[SIXBIT/[CLIB]/]
		VERNAM
		SETZ [SIXBIT/C/]
		]
	.VALUE	[ASCIZ/: UNABLE TO GET LIBRARY FILE 
/]
	MOVN	A,NPAGES
	HRLZ	A,A
	HRR	A,PAGENO
	.CALL	[SETZ
		'CORBLK
		1000,,600000	; READ-WRITE ACCESS
		1000,,-1	; PUT IN MY MAP
		A		; AOBJN POINTER
		401000,,1	; FROM FILE
		]
	.VALUE	[ASCIZ/: UNABLE TO MAP IN LIBRARY FILE 
/]
	.CLOSE	1,
	.VALUE	[ASCIZ/: ALL SET 
:SL /]
	GO	.-1

PAGENO:	246.		; FIRST PAGE TO SMASH
NPAGES:	10.		; NUMBER OF PAGES TO SMASH
VERNAM:	SIXBIT/10/	; VERSION NUMBER IN SIXBIT

END	INIT
