SMSCSR==177200		;THE CSR FOR THE SMS TO PDP11 INTERFACE
SMSDBF==SMSCSR+2	;THE DATA BUFFER BYTE
SMSCMD==SMSDBF+2	;THE COMMAND BUFFER BYTE
SMSLGT==SMSCMD+2	;LIGHT REGISTER
SMSBRV==270		;TRAP VECTOR ADDRESS
SMSTV==SMSBRV
CLKBRV==100	;CLOCK TRAP ADDRESS
SMSPRM==173000	;PROM ADDRESS
SMSPRE==173376	;LAST PROM ADDRESS (CONFIGURATION WORD)
 SMS60H==1	;IF THIS BIT IS ONE, MACHINE IS 60HZ, ELSE 50HZ
SMSRST==0	;RESET COMMAND, SECOND BYTE IGNORED
SMSSEK==1	;SEEK, OR WITH DISK DRIVE_3, SECOND BYTE TRACK ADDRESS
SMSRED==2	;READ, OR WITH DISK DRIVE_3 AND:
 SMSDTB==100	 ;DISK TO BUFFER BIT
 SMSBTH==200	 ;BUFFER TO HOST BIT
		  ;SECOND BYTE ON READ IS SECTOR
SMSRID==3	;READ NEXT SECTOR ID, OR WITH DISK DRIVE_3, SECOND BYTE IGNORED
SMSWRT==4	;WRITE, OR WITH DISK DRIVE_3 AND:
 SMSBTD==100	 ;BUFFER TO DISK
 SMSHTB==200	 ;HOST TO BUFFER
		  ;SECOND BYTE ON WRITE IS SECTOR
SMSWRD==5	;WRITE WITH DELETED DATA MARK, OTHERWISE SAME AS WRITE
SMSFMT==6	;FORMAT THE TRACK THE HEADS ARE OVER
		 ;OR WITH DISK DRIVE_3, SECOND BYTE IS TRACK ADDRESS TO WRITE ON DISK
SMSSTS==7	;READ STATUS, OR WITH DISK DRIVE_3, SECOND BYTE IGNORED

;STATUS BITS IN CSR
SMSERR==100000	;ERROR IN OPERATION
SMSRSB==40000	;RESET BIT
SMSPWR==4000	;POWER ON DISK DRIVES
SMSCLE==2000	;CLOCK INTERUPT ENABLE
SMSST1==1000	;STAT ID BIT 1
SMSST0==400	;STAT ID BIT 0
SMSDNE==200	;DONE
SMSINT==100	;INT ENABLE
SMSBSY==40	;BUSY
SMSCMW==20	;WAITING FOR A COMMAND BYTE
SMSDDR==10	;DATA DIRECTION
SMSFDO==4	;FDC ON
SMSXFW==1	;WAITING FOR XFR

;STATUS BITS IN STATUS BYTE
;COMMAND STATUS
SMSITA==2	;INVALID TRACK ADDRESS
SMSISA==4	;INVALID SECTOR ADDRESS
SMSIBS==10	;INVALID BUFFER SPEC
;DISK DRIVE STATUS
SMSDNR==1	;DRIVE NOT READY
SMSDUS==2	;DRIVE UNSAFE
SMSDWP==4	;DRIVE WRITE PROTECTED
SMSNAM==10	;NO ADDRESS MARKS FOUND
SMSSIP==40	;SEEK IN PROGRESS
;OPERATION STATUS
SMSRWA==1	;READ/WRITE ABORTED
SMSHPE==2	;HEAD POSITIONING ERROR
SMSDAM==4	;DATA ADDRESS MARK MISSING
SMSDOV==10	;DATA OVERRUN
SMSSUR==20	;SECTOR UNRECOVERABLE
SMSCRC==40	;CRC ERROR
SMSRWC==100	;READ/WRITE COMPLETE
SMSDDR==200	;DELETED DATA READ

