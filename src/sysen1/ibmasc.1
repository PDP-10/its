TITLE READ THE TAPE
A=1
B=2
C=3
D=4
E=5
W=16
P=17
MAGI=10
DSK=11
TYO=12
START:	MOVE P,PDL
	.OPEN MAGI,MAG
	.VALUE
	.OPEN DSK,DSKO
	.VALUE
LP0:	MOVE B,[-1,,MAGBUF]
	.IOT MAGI,B
	SKIPGE B
	 JRST DONE
	MOVSI A,-4
	MOVE C,[441000,,MAGBUF]
	MOVE D,[440700,,DSKBUF]
LP:	ILDB E,C
	IDPB E,D
	AOBJN A,LP
	MOVE B,[-1,,DSKBUF]
	.IOT DSK,B
	JRST LP0
DONE:	.CLOSE MAGI,
	.CLOSE DSK,
	.VALUE [ASCIZ /:DONE.  ALT P TO READ MOREî/]
	JRST START

STOP:	MOVE A,[MAGI,,[11]]
	.MTAPE A,
	JFCL
	.CLOSE MAGI,

REWIND:	.OPEN MAGI,MAG
	.VALUE
	MOVE A,[MAGI,,[1]]
	.MTAPE A,
	.VALUE
	.CLOSE MAGI,
	.VALUE

SPACE:	.OPEN MAGI,MAG
	.VALUE
	MOVE B,[MAGI,,A]
	MOVEI A,7
	.MTAPE B,
	.VALUE
	.CLOSE MAGI,
	.VALUE

EOT:	.OPEN MAGI,MAG
	.VALUE
	MOVE B,[MAGI,,[10]]
	.MTAPE B,
	.VALUE
	.CLOSE MAGI,
	.VALUE

DSKBUF:	0
MAGBUF:	0
MAG:	426,,(SIXBIT /MT0/)
	0
	0

DSKO:	SIXBIT /  'DSK/
FNAM1:	SIXBIT /JLKTAP/
FNAM2:	SIXBIT />/


PDL:	-100,,PDL1
PDL1:	BLOCK 100

END START
