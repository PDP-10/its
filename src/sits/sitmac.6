A=%0
B=%1
C=%2
D=%3
E=%4
F=%5
P=%6
PC=%7

.XCREF A,B,C,D,E,F,P,PC

.MACRO SAVE THINGS
	.IRP  X,<THINGS>
		.IFB X
			TST -(P)
		.IFF
			.IF IDN X,#0
				CLR -(P)
			.IFF
				MOV X,-(P)
			.ENDC
		.ENDC
	.ENDM
.ENDM

.MACRO REST THINGS
	.IRP X,<THINGS>
		.IF B X
			TST (P)+
		.IFF
			MOV (P)+,X
		.ENDC
	.ENDM
.ENDM

.MACRO WORDS WORDS
	.IRP X,<WORDS>
		X
	.ENDM
.ENDM

.MACRO BYTES BYTES
	.IRP X,<BYTES>
		.BYTE X
	.ENDM
.ENDM
.MACRO ASCII TEXT
	.ASCII ÔEXTŠ.ENDM
.MACRO ASCIZ TEXT
	.ASCIZ ÔEXTŠ.ENDM

.MACRO FLASK Q,FLAG
.IF1
.PRINT /Q
FLAG=/
.TTYMAC F
FLAG==F
.ENDM
.ENDC
.ENDM
