!With this in buffer, do M..O to create 
   LISP;TAPE10 CTL and LISP;TAPE20 CTL for SUBMITting on TWENEX dumpers, and
   LISP;TAPE10 BYTPAK and LISP;TAPE20 BYTPAK  for use by BYTPAK on ITS.
_____________________________________________________________________________!!
@CD <MACLISP> PSILCAM
@DEFINE EXPORT: (AS) MTA0:
@ASSIGN EXPORT: 
@DUMPER
*NO INTERCHANGE 
*TAPE EXPORT:
*REWIND
&&10*DENSITY 800
&&20*DENSITY 1600
*FILES
*SSNAME BASIC LISP INTERPRETER AND DOCUMENTATION
*SAVE 
	THIS.NOTE	      |LISP;		THIS NOTE
  &&20	TAPE20.CTL 						||its-
  &&10	TAPE10.CTL 						||its-
  &&20			      | 		TAPE20 BYTPAK	||its+
  &&10			      | 		TAPE10 BYTPAK	||its+
  &&20	QIOORD.DOC	      |LISP; 		QIOORD DOC20
  &&10	QIOORD.DOC-TOPS-10    | 		QIOORD DOC10
	CGOL.DOC	      |PRATT;		CGOL DOC
	LISP.DOC 	      |LSPMAN; 		MANUAL ASCII
	LISP.NEWS	      |LISP;		LISP NEWS
  &&10	LISP.REL-TOPS-10      |  		RELD10 >
  &&20	LISP.REL 	      |  		RELTWX >
  &&20	LISP.EXE						||its-
  &&20	LISP.SYMBOLS 						||its-
  &&20	COMPLR.EXE						||its-
  &&20	MACLISPBOOT.EXE       |LISP; 		MLBOOT EXE		
  &&20	COMPLRBOOT.EXE        |LISP; 		CLBOOT EXE		
*SSNAME "AUTOLOAD" PACKAGES:  FILES MUST BE ON "LISP" DEVICE OR DIRECTORY
*SAVE
	BACKQ.FASL	      |LISP;		BACKQ FASL
	CGOL.FASL	      | 		CGOL FASL
	CGPRIN.FASL	      | 		CGPRIN FASL
	DEFMACRO.FASL	      | 		DEFMAC FASL
	DEFMAX.FASL	      | 		DEFMAX FASL
	DUMPARRAYS.FASL	      | 		DUMPAR FASL
	EDIT.FASL 	      | 		EDIT FASL
	FORMAT.FASL	      | 		FORMAT FASL
  &&10	GETMID.FAS-TOPS-10    |DECSYS;		GETMID FAS
  &&20	GETMIDASOP.FASL	      |LISP;		GETMID 20FASL
	GRINDEF.FASL	      |LISP; 		GRINDE FASL
	GRIND.FASL	      | 		GRIND FASL
	LAP.FASL	      | 		LAP FASL
	LET.FASL	      | 		LET FASL
	SORT.FASL	      | 		SORT FASL
	TRACE.FASL	      | 		TRACE FASL
*SSNAME FILES FOR MAKING A COMPILER: FASL AND CCLOAD.INI
*SAVE 
	CCLOAD.INI	      |COMLAP;		CCLOAD >
	CDMACS.FASL	      | 		CDMACS FASL
	COMAUX.FASL 	      | 		COMAUX FASL
	COMPLR.FASL	      | 		COMPLR FASL
	FASLAP.FASL	      | 		FASLAP FASL
	INITIA.FASL	      | 		INITIA FASL
	MAKLAP.FASL	      | 		MAKLAP FASL
	PHAS1.FASL 	      | 		PHAS1 FASL
*SSNAME AUXILLIARY HELPFUL FILES OF COMPILED LISP
*SAVE 
	APROPOS.FASL 	      |LIBLSP; 		APROPO FASL
	ARYFIL.FASL	      | 		ARYFIL FASL
	BBOOLE.FASL 	      | 		BBOOLE FASL
	BS.FASL		      | 		BS FASL
	CARCDR.FASL 	      | 		CARCDR FASL
	DEFVST.FASL	      | 		DEFVST FASL
	DOW.FASL 	      | 		DOW FASL
	FFORMA.FASL	      | 		FFORMA FASL
	FOR.FASL 	      | 		FOR FASL
	GCDEMN.FASL	      | 		GCDEMN FASL
	GENFNS.FASL 	      | 		GENFNS FASL
	IOTA.FASL	      | 		IOTA FASL
	LINERE.FASL 	      | 		LINERE FASL
	LODBYT.FASL	      | 		LODBYT FASL
	MACAID.FASL	      | 		MACAID FASL
	NILAID.FASL	      | 		NILAID FASL
	PRIVOB.FASL	      | 		PRIVOB FASL
	SETS.FASL 	      | 		SETS FASL
	STEP.FASL	      | 		STEP FASL
	SHARPM.FASL 	      | 		SHARPM FASL
	SUN.FASL 	      | 		SUN FASL
	VSAID.FASL 	      | 		VSAID FASL
*SSNAME SOURCE FILES FOR "AUTOLOAD" PACKAGES
*SAVE
	BACKQ.LSP	      |COMLAP;		BACKQ >
	CGOL.CGL	      |PRATT;		CGOL CGL
	CGPRIN.CGL	      | 		CGPRIN CGL
	DEFMACRO.LSP	      |COMLAP; 		DEFMAC >
	DEFMAX.LSP	      | 		DEFMAX >
	DUMPARRAYS.LSP	      |L;		DUMPAR >
	EDIT.MID 	      | 		EDIT >
	FORMAT.LSP	      |COMLAP;		FORMAT >
	GETMIDASOP.MID	      |L; 		GETMID >
	GRINDEF.LSP	      |COMLAP;		GRINDE >
	GRIND.LSP	      | 		GRIND >
	LAP.LSP		      | 		ELAP >
	LET.LSP		      | 		LET >
	SORT.MID	      |L;		SORT >
	TRACE.LSP	      |COMLAP;		TRACE >
*SSNAME SOURCE FILES AND DOCUMENTATION FOR AUXILLIARIES
*SAVE 
	APROPOS.LSP 	      |LIBDOC; 		APROPO >
	ARYFIL.LSP	      | 		ARYFIL >
	BBOOLE.LSP 	      | 		BBOOLE >
	BS.LSP		      | 		BS >
	CARCDR.LSP 	      | 		CARCDR >
	DEFVST.LSP	      |LIBDOC;		DEFVST >
	DEFVST.DOC	      | 		DEFVST DOC
	DOW.LSP 	      | 		DOW >
	FOR.LSP 	      | 		FOR >
	FFORMA.LSP	      | 		FFORMA >
	GCDEMN.CGL	      | 		GCDEMN >
	GENFNS.LSP 	      | 		GENFNS >
	IOTA.LSP	      | 		IOTA >
	LINERE.LSP 	      | 		LINERE >
	LODBYT.LSP	      |NILCOM; 		LODBYT >
	MACAID.LSP	      | 		MACAID >
	NILAID.LSP	      | 		NILAID >
	PRIVOB.LSP	      |LIBDOC;		PRIVOB >
	SETS.LSP 	      | 		SETS >
	STEP.DOC	      | 		STEP DOC
	STEP.LSP	      | 		STEP >
	SHARPM.LSP 	      | 		SHARPM >
	SUN.LSP 	      | 		SUN >
	VSAID.LSP 	      |NILCOM;		VSAID >
*SSNAME SOURCE FILE FOR COMPILER
*SAVE 
	CDMACS.LSP	      |COMLAP; 		CDMACS >
	COMAUX.LSP 	      | 		COMAUX >
	COMPLR.LSP	      | 		COMPLR >
	FASLAP.LSP	      | 		FASLAP >
	INITIA.LSP	      | 		INITIA >
	MAKLAP.LSP	      | 		MAKLAP >
	PHAS1.LSP 	      | 		PHAS1 >
*SSNAME MIDAS ASSEMBLER AND AULILLIARIES, ATSIGN CROSS-LISTER, ETC.
*SAVE 
	<SOURCES.UNSUPPORTED>MIDAS.MID.0 	|MIDAS;		MIDAS >
	<INFO>MIDAS..0 				| 		MIDAS DOC
  &&20	<NEWSYS>MIDAS.EXE					||its-
  &&10	<MACLISP>MIDAS.REL-TOPS-10.0 		| 		MIDAS REL
  &&20	<SOURCES.UNSUPPORTED>TNXDFS.MID.0 	|SYS;		TNXDFS >
  &&20	<SOURCES.UNSUPPORTED>TWXBTS.MID.0 	| 		TWXBTS >
	<SOURCES.UNSUPPORTED>DECDFS.MID.0 	|		DECDFS >
	<SOURCES.UNSUPPORTED>DECBTS.MID.0 	| 		DECBTS >
	<MACLISP>FASDFS.MID.0 			| 		FASDFS >
	<SOURCES.UNSUPPORTED>TSRTNS.MID.0 	|MIDAS;		TSRTNS >
  &&20	<MACLISP>XJSYS.MID			|		XJSYS >
	<SOURCES.UNSUPPORTED>ATSIGN.MID.0 	|MIDAS;		ATSIGN >
	<INFO>ATSIGN..0 			| 		ATSIGN DOC
  &&20	<NEWSYS>ATSIGN.EXE.0 					||its-
  &&10	<MACLISP>ATSIGN.REL.0 			| 		ATSIGN REL
*SSNAME MACLISP - ASSEMBLER SOURCE CODE
*SAVE 
	LISP.MID	      |LISP; 		LISP >

*REWIND 
*CHECK-NSS  
*EXIT
@UNLOAD EXPORT:
@DEASSIGN EXPORT:
!
M.Vsub routine 
M.Vpack it 
M.Vflush amps 
[0[1[2[C[S[T[sub routine[pack it[flush amps 
HX2JS________L .,(S-L .)X1		!* GET TABULAR DATA IN 1, BUFFER IN 2!
ZJ-S________ L				!* LOAD UP MACROS FROM HERE!
 S;BEGIN!L.,(S;END! 0L.)Xsub routine 
 S;BEGIN!L.,(S;END! 0L.)Xflush amps
 S;BEGIN!L.,(S;END! 0L.)Xpack it
 :M(@:I*@				!* RUN IT!
	:IS20 	HKG1Msub routine	!* S gets 10 OR 20, AND T IS + OR -!
		!* HKG1JMpack it !
	:IS10 	HKG1Msub routine
		HKG1JMpack it
	HKG2J @)
_______________________________________________________________________________

!sub routine;BEGIN!
:IT- Mflush amps 
J F=S10"E		    	    !* IF THIS IS FOR A BOTTOMS-10!
  :SNO INTERCHANGE"N		    !* and there is a NO INTERCHANGE line!
    -14C 3D ' '			    !* then turn it into INTERCHANGE!
0UC
J<:SSAVE;-CKI  %C
    1A-9"N :I*Bad lineFSERR
	 '  <   <1A-9"E D OTG ' 1A-32"E D OTG ' 0; !TG! >  
		S 	î -C .U0 :L .-Q0"N Q0,.K ' 
		L 1A-9"N 0; ' -L:LKI,
	    >
	   
 >
JSCHECK-NSS-4DI 0L1X01K QC<G0>
 EWDSK:LISP;PW
 EFTAPES CTL
 FS D FILE [F
@FTWritten: F 0fsecho active
!sub routine;END!

!flush amps;BEGIN!
J<:S||itsT;.U0 -S||its.,Q0K >   !* ANY CONDITIONALS FOR THIS ONE?!
J<:S||its;0LK>			    !* ANY CONDITIONAL AT ALL!
J<:S&&S;.U0 0L .,Q0K >	    !* ANY CONDITIONALS FOR THIS ONE?!
J<:S&&;0LK>			    !* ANY CONDITIONAL AT ALL!
!flush amps;END!

!pack it;BEGIN!
:IT+ Mflush amps JI
JS
<.-Z; 1A-9 "N K OEOL '
  :S|î; 0A-13 "E -C OEOL '
  .U0 0L .,Q0K L
  !EOL!
 >
JI@@TBSIZE 36.
@@FBSIZE 36.
@@DENSITY 800.
#MC:

<:Sî;-C 				!* FLUSH SPACE, TAB FROM END OF LINE!
 <0A-32 "E OONM ' 
  0A-9  "E OONM ' 0; !ONM! -D > L > 
 EWDSK:LISP;PW
 EFTAPES BYTPAK
 FS D FILE [F
@FTWritten: F 0fsecho active
!pack it;END! 
