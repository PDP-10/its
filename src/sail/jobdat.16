TITLE JOBDAT

INTERNAL JOBDAC,JOBD16,JOBUUO,JOB41,JOBENB,JOBREL,JOBPD1,JOBPRT,JOBHCU,JOBPC,JOBDDT
INTERNAL JOBSAV,JOBJDA,JOBLO,JOBSV,JOBSVM,JOBSDD,JOBPFI,JOBHI,JOBHRL,JOBSYM,JOBSA
INTERNAL JOBFF,JOBS41,JOBREN,JOBAPR,JOBCNI,JOBTPC,JOBOPC,JOBCOR,JOBVER,JOBDA

INTERNAL .JBREL,.JBFF,.JBSA,.JBAPR,.JBTPC,.JBCNI,.JBDDT,.JBOPC,.JBENB,.JBS41,.JBCOR
INTERNAL .JBSAV,.JB41,.JBHRL,.JBSYM

JOBDAC__20
JOBD16__JOBDAC+16

JOBUUO__40		;UUO LOCATION
JOB41__41		;USER UUO JSR LOCATION
JOBENB__43		;JOB ARR TRAPS ENABLE BITS
JOBREL__44		;LH=0, RH=HIGHEST REL. ADR. IN USER AREA
			; (IE LOW SEGMENT).  SET BY MONITOR EACH TIME JOB CHANGES
			; CORE SIZE.
JOBPD1__45
JOBPRT__72		;FIRST LOC PROTECTED
JOBHCU__72
JOBPC__JOBHCU+1
JOBDDT__74		;LH UNUSED
			;RH=STARTING ADDRESS OF USER DDT
JOBSAV__JOBDDT-1	;FIRST LOC-1 WRITTEN BY SAVE COMMAND
JOBJDA__JOBDDT+1	;JOB DEVICE ASSIGNMENT TABLE
			; LH=UUO'S DONE SO FAR
			; RH=ADR. OF DEVICE DATA BLOCK IN MONITOR
JOBLO__JOBJDA		;FIRST LOC TO ZERO OUT DURING A RESET UUO
JOBSV__JOBJDA+1		;FIRST LOC READ INTO OR WRITTEN FROM BY NEW
			; SAVGET WHICH ZERO-COMPRESSES.  THIS LOC CONTAINS
			; THE FIRST IOWD W/NO. OF DATA WORDS IN LH, FIRST ADR-1
			; IN RH.
JOBSVM__JOBSV-1		;FIRST LOC-1 USED FOR SETTING UP DUMP MODE
			; COMMAND LIST FOR SAVGET
JOBSDD__JOBJDA+17	;PLACE TO SAVE JOBDDT ON SAVE
JOBPFI__JOBJDA+17	;HIGHEST LOC IN JOB DATA AREA PROTECTED FROM IO
JOBHI__JOBJDA+17	;LAST LOC TO ZERO OUT DURING A RESET UUO (C.F. USRHI)
JOBHRL__115		;LH IS FIRST FREE LOC IN HIGH SEG RELATIVE TO ORIGIN.
JOBSYM__116		;POINTER TO JOB SYMBOLS
			; ANALAGOUS TO LH OF JOBSA FOR LOW SEG.  (IE LH=LENGTH TO
			; SAVE ON SAVE COMMAND).  SET BY LOADER.
			; RH ANALAGOUS TO JOBREL, IE HIGHEST LEGAL USER ADDRESS IN HIGH SEG.
JOBSA__120		;LH=INITIAL FIRST FREE LOCATION IN LOW SEG (SET BY LOADER)
			;RH=STARTING ADDRESS OF USER PROGRAM
			;(SET FROM HIGH DATA AREA ON GET IF NO LOW FILE)
JOBFF__121		;CURRENT FIRST FREE LCATION IN LOW SEG USED
			; AND UPDATED BY MONITOR TO ASSIGN IO BUFFERS IN TOP OF USER
			; AREA.
			;  USER MAY CHANGE CONTENTS IN ORDER TO AFFECT PLACEMENT OF
			; BUFFERS BY MONITOR
JOBS41__122		;C(JOB41) SAVED HERE ON SAVE COMMAND.
			; RESTORE FROM HERE ON GET.
JOBREN__124		;REENTER ADDRESS FOR REENTER COMMAND.
			; (SET FROM HIGH DATA AREA ON GET IF NO SAVE FILE)
JOBAPR__125		;PLACE TO TRAP TO IN USER AREA ON APR TRAP.
			; ENABLED BY APRENB UUO.
JOBCNI__126		;APR IS CONI'ED INTO C(JOBCNI) ON APR TRAP
JOBTPC__127		;PC IS STORED HERE ON USER APR TRAP
JOBOPC__130		;OLD PC IS STORED HERE ON START, DDT, REENTER,
			; STARTC COMMANDS.
JOBCOR__133		;(SET FOM HIGH DATA AREA IN NO LOW FILE)
			; LH=HIGHEST LOCATION LOADED (LOW SEG) W/PROG OR DATA.
			;  (BLOCK STATEMENTS DO NO COUNT HERE).  SAVE WILL NOT
			;  WRITE THE LOWSEG OF A 2 SEG PROG IF LH IS <= 137
			;  AND GET WILL NOT READ.
			; RH=SIZE OF CORE FROM LOW SEG ON RUN, SAVE, GET COMMANDS.
			;  (SET FROM HIGH DATA AREA ON GET IF NOT LOW FILE)
			;  SET BY SAVE TO CORE ASSIGNMENT TO BE USED ON GET (UNLESS USER
			;  TYPES A LARGER ARG TO GET) TO FRIST FREE LOC-1 (OR TOP
			;  OF USER DDT) OR TO USER'S CORE ARG TO SAVE IF BIFFER.
			; GET ALWAYS SET RH TO INITIAL CORE ASSIGNMENT SO THAT PROG
			;  CAN RESTORE CORE TO ORIGINAL ASSIGNMENT ON RESTARTING.
JOBVER__137		;CONTAINS VERSION # (OCTAL) OF CUSP BEING RUN IN RH
JOBDA__140		;FIRST LOC NOT USED BY JOB DATA AREA

;THE NEW REGIME COMETH

FOR @! NAM IN (REL,FF,SA,APR,TPC,CNI,DDT,OPC,ENB,S41,COR,SAV,41,HRL,SYM)
<.JB!NAM__JOB!NAM
>
	RELOC 40
END
