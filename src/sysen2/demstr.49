	TITLE DEMSTR - STARTUP DEMON - MB 9/27/73

.MLLIT==1

DEFINE DEMSIG NAME,ARG,ZZZ
	.CALL	[SETZ ? 'DEMSIG
		[SIXBIT /NAME/]
		SETZ [ARG]]
	 TDZA	;FAIL, SET SNOOZE TO 0
	MOVEI	30.*ZZZ
	.SLEEP
TERMIN

;INSTALL A DEMON AT THE END OF THE LIST:
; FIRST ARG IS NAME OF FILE "SYS;ATSIGN NAME" TO LOAD.
; SECOND ARG IS REPETITION TIME (2 MINS), OR 0 FOR NONE, OR -1 FOR LOAD WITHOUT SIGNAL.
; THIRD ARG IS TIME (SEC) FOR DEMSTR PROGRAM TO SLEEP AFTER SIGNALLING DEMON.

START:	.DEMON		; I HAVE ARRIVED
	JFCL		; SOMETHING IS WRONG, BUT OK ANYWAY

	DEMSIG	EGG,-1,10.		; PFTHMG DRAGON
	DEMSIG	PAPSAV,0,10.		; SPYER ON T00; SWG 3/31/81
	DEMSIG	UNSPOO,0,10.		; PRINTER UNSPOOLER
;	DEMSIG	SURVEY,10.,15.		; ARPANET HOST SURVEY; SWG
	DEMSIG	COMSAT,0,10.		; MAIL DEMON; SWG 1/26/83
	DEMSIG	ZONE,0,60.		; MUDDLE COMPILE BATCHER
	DEMSIG	BATCHN,0,60.		; NEW BATCH MONITOR; SWG
;	DEMSIG	GUNNER,0,10.		; GARBAGE MAN; TAA 12/8/77
	DEMSIG  EXPIRE,-1,10.		; GMSGS CLEANER; CSTACY 4/8/83

	.LOGOUT
	.VALUE
END	START
