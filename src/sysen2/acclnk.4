TITLE ACCLNK  ----  Sets com-link accept bit for specified TTY  ----  JMB 6/27/76

O=0
A=1
B=2
C=3

	LOC	100

JCL:	BLOCK	16

START:	.BREAK	12,[5,,JCL]
	MOVE	A,[440700,,JCL]
NUMGET:	SETZ	B,
	ILDB	C,A
	JUMPE	C,DOIT
	CAIL	C,"0
	CAILE	C,"9
	JRST	NUMGET+1
NEXTCH:	LSH	B,3
	SUBI	C,"0
	IOR	B,C
	ILDB	C,A
	CAIL	C,"0
	CAILE	C,"9
	SKIPA
	JRST	NEXTCH
DOIT:	CAIL	B,40
	.VALUE	[ASCIZ /:TTY NUMBER OUT OF RANGEî:KILLî:VKî/]
	MOVE	C,[SQUOZE 0,TTYCOM]
	.EVAL	C,
	.VALUE	[ASCIZ /:.EVAL FAILUREî:KILLî:VKî/]
	ADD	C,B
	HRLZ	C,C
	.GETLOC	C,
	TLZN	O,014000
	.VALUE	[ASCIZ /:ALREADY ACCEPTINGî:KILLî:VKî/]
	.VALUE	[ASCIZ /5:VKî/]
	.SUSET	[.SUNAME,,[SIXBIT /SYS/]]
	.SUSET	[.SJNAME,,[SIXBIT /JOB/]]
	MOVSS	C
	.SETLOC	C,
	.LOGOUT
	END	START
