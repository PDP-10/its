; MACROS FOR SEPARATE CODE LITERAL AREA
; THIS DOES NOT HANDLE RECURSIVE CALLS

CD%N==0
IF1,[CD%LOC==0]

DEFINE	CD%AS	*PREFIX*,#SEGNO,*SUFFIX*
	PREFIX!SEGNO!SUFFIX
	TERMIN

DEFINE CODE BODY
IF2,[	CD%AS/CD%LOC+CD%/,CD%N+1]

	CD%N==CD%N+1
	DOT==.-1
	CD%OLC==.
	IF1,[
		BODY
		CD%AS /CD%/,CD%N,/==CD%LOC/
		CD%LOC==CD%LOC+<.-CD%OLC>
		]
	IF2,[
		CD%AS /LOC CD%LOC+CD%/,CD%N
		BODY
	]
	LOC CD%OLC
	TERMIN

DEFINE INSCODE
	IF1,[
		CD%SIZ==CD%LOC
		CD%LOC==.
		BLOCK CD%SIZ
		]
	TERMIN
